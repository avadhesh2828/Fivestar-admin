<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-header" *ngIf="sportId == '2'">
        <div class="row">
          <div class="col-12 col-sm-3">
            <div class="input-group">
              <select class="form-control" [(ngModel)]="params['matchType']" name="matchType"
                (change)="onMatchTypeChange()">
                <option value="">Select match type</option>
                <option *ngFor="let type of matchType" [value]="type">{{type}}</option>
              </select>
            </div>
          </div>
          <div class="col-12 col-sm-3">
            <div class="input-group">
              <select class="form-control" [(ngModel)]="params['scoreType']" name="scoreType">
                <option value="">
                  {{+params['matchType'] === '' ? 'Select match type first' : 'Select score type'}}</option>
                <option *ngFor="let type of scoreType" [ngValue]="type">{{type}}
                </option>
              </select>
            </div>
          </div>
          <div class="col-12 col-sm-3">
            <span class="input-group-prepend">
              <button class="btn btn-primary" type="button" (click)="searchFilter();"> <i class="fa fa-filter"></i>
                Filter</button>&nbsp;
              <button class="btn btn-warning" (click)="searchFilter('reset');"><i class="fa fa-refresh"></i>
                Reset Filters</button>
            </span>
          </div>
        </div>
      </div>
      <div class="card-body custom-listing-table">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
          <h1 class="h3 mb-0 text-gray-800">Contests</h1>
        </div>
        <table class="table table-responsive-sm table-bordered table-striped table-sm">
          <thead>
            <tr>
              <th>Scoring ID</th>
              <th>Match Type</th>
              <th>Score Type</th>
              <th>Digital Odds from</th>
              <th>Digital Odds to</th>
              <th>Points</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="error">
              <td colspan="7" class="table-danger">There was an error</td>
            </tr>
            <tr *ngFor="let contest of displayData">
              <td>{{ contest.master_contest_scoring_id }}</td>
              <td>{{ contest.type }}</td>
              <td>{{ contest.scoring_type }}</td>
              <td>{{ contest.digital_odds_from }}</td>
              <td>{{ contest.digital_odds_to }}</td>
              <td *ngIf="!contest.isEditable">{{ contest.points }}</td>
              <td *ngIf="contest.isEditable">
                <input type="number" min="1" max="10" [(ngModel)]="contest.current_points"
                  [disabled]="!contest.isEditable" allow-decimal="false" oninput="validity.valid||(value='1');" />
              </td>
              <td>
                <span class="badge"
                  [ngClass]="{'badge-success': (contest.status == 1), 'badge-danger': (contest.status == 0)}">{{contestStatus[contest.status] }}</span>
              </td>
              <td>
                <a href="javascript:void(0)" (click)="contest.isEditable=!contest.isEditable"
                  *ngIf="!contest.isEditable">Edit</a>
                <a href="javascript:void(0)" *ngIf="contest.isEditable" (click)="onSubmit(contest)">Save</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
